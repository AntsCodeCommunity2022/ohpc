\xCAT{} requires a network domainname specification for systemwide name
resolution. This value can be set to match your local DNS schema or given a
unique identifier such as ``local''. In this recipe, we leverage the
\texttt{\$domain\_name} variable to define as follows:

% begin_ohpc_run
% ohpc_validation_comment Define local domainname
\begin{lstlisting}[language=bash,keywords={},upquote=true,basicstyle=\footnotesize\ttfamily,literate={BOSVER}{\baseos{}}1]
[sms](*\#*) chdef -t site domain=${domain_name}
\end{lstlisting}

With the desired compute nodes and domain identified, the remaining steps in the
provisioning configuration process are to define the provisioning mode and
image for the {\em compute} group and use \xCAT{} commands to complete
configuration for network services like DNS and DHCP. These tasks are
accomplished as follows:

% begin_ohpc_run
% ohpc_validation_comment Add hosts to cluster (Cont.)
\begin{lstlisting}[language=bash,keywords={},upquote=true,basicstyle=\footnotesize\ttfamily,literate={BOSVER}{\baseos{}}1]
# Define provisioning method for computes
[sms](*\#*) chdef -t group compute provmethod=BOSVER-x86_64-netboot-compute
# Complete network service configurations
[sms](*\#*) makehosts
[sms](*\#*) makenetworks
[sms](*\#*) makedhcp -n
[sms](*\#*) makedns -n
# Associate desired provisioning image for computes
[sms](*\#*) nodeset compute osimage=BOSVER-x86_64-netboot-compute
# restart DHCP
[sms](*\#*) service dhcpd restart
\end{lstlisting}

