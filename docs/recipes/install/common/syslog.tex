It is often desirable to consolidate system logging information for the cluster in a
central location, both to provide easy access to the data, and to reduce the
impact of storing data inside the stateless compute node's memory footprint. The
following commands highlight the steps necessary to configure compute nodes to
forward their logs to the SMS, and to allow the SMS to accept these log requests.


% begin_ohpc_run
% ohpc_comment_header Add Cluster Checker to SMS and computes \ref{sec:add_clck}
\begin{lstlisting}[language=bash,keywords={}]
# Configure SMS to receive messages and reload rsyslog configuration
[sms](*\#*) echo "$ModLoad imudp" >> /etc/rsyslog.conf
[sms](*\#*) echo "$UDPServerRun 514" >> /etc/rsyslog.conf
[sms](*\#*) systemctl kill -s HUP rsyslog

# Define compute node forwarding destination
[sms](*\#*) echo "*.* @${sms_eth_internal}:514" >> $CHROOT/etc/rsyslog.conf
\end{lstlisting}
% end_ohpc_run
